<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Will you be my valentine forever, bubu? üíò</title>
  <meta name="description" content="A tiny playful valentine site. You can never say no üòàüíò" />
  <style>
    :root {
      --bg1: #ffdde1;
      --bg2: #ee9ca7;
      --card: rgba(255,255,255,0.75);
      --text: #1f1f1f;
      --yes: #22c55e;
      --no: #ef4444;
      --shadow: 0 20px 60px rgba(0,0,0,0.15);
    }
    * { box-sizing: border-box; }
    body {
      margin: 0;
      min-height: 100vh;
      display: grid;
      place-items: center;
      font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial;
      background: radial-gradient(1200px 800px at 20% 10%, var(--bg1), transparent 60%),
                  radial-gradient(1200px 800px at 80% 90%, var(--bg2), transparent 60%),
                  radial-gradient(900px 600px at 50% 40%, rgba(255,105,180,0.20), transparent 65%),
                  linear-gradient(135deg, #fff5f7, #ffe4e6);
      color: var(--text);
      overflow: hidden;
    }

    /* Stickers (optional) */
    .stickers {
      position: fixed;
      inset: 0;
      pointer-events: none;
      z-index: 1;
    }
    .sticker {
      position: fixed;
      width: 120px;
      padding: 8px;
      border-radius: 16px;
      background: rgba(255,255,255,0.55);
      border: 1px solid rgba(255,255,255,0.75);
      box-shadow: 0 18px 45px rgba(0,0,0,0.12);
      backdrop-filter: blur(6px);
      opacity: 0.92;
      transform: rotate(var(--rot));
    }
    .sticker img {
      width: 100%;
      display: block;
      border-radius: 12px;
      height: auto;
    }

    .hearts, .confetti, .sparks {
      position: fixed;
      inset: 0;
      pointer-events: none;
      filter: blur(0.2px);
    }
    .hearts { opacity: 0.35; z-index: 2; }
    .confetti { opacity: 0; z-index: 4; transition: opacity 350ms ease; }
    .sparks { opacity: 0; z-index: 4; transition: opacity 350ms ease; }

    .heart {
      position: absolute;
      font-size: 22px;
      animation: floatUp linear infinite;
      transform: translateY(120vh);
      user-select: none;
    }
    @keyframes floatUp {
      from { transform: translateY(120vh) translateX(0) rotate(0deg); }
      to   { transform: translateY(-20vh) translateX(40px) rotate(25deg); }
    }

    .conf {
      position: absolute;
      width: 10px;
      height: 14px;
      border-radius: 4px;
      transform: translateY(-10vh) rotate(0deg);
      animation: confFall linear forwards;
      opacity: 0.95;
    }
    @keyframes confFall {
      to {
        transform: translateY(110vh) rotate(720deg);
      }
    }

    .spark {
      position: absolute;
      width: 6px;
      height: 6px;
      border-radius: 999px;
      animation: sparkPop 900ms ease-out forwards;
      box-shadow: 0 0 18px rgba(255,255,255,0.7);
    }
    @keyframes sparkPop {
      0% { transform: translate(-50%, -50%) scale(0.7); opacity: 0; }
      15% { opacity: 1; }
      100% { transform: translate(-50%, -50%) scale(2.4); opacity: 0; }
    }

    .card {
      width: min(720px, calc(100vw - 32px));
      background: var(--card);
      border: 1px solid rgba(255,255,255,0.7);
      border-radius: 28px;
      box-shadow: var(--shadow);
      padding: 28px;
      backdrop-filter: blur(10px);
      position: relative;
      z-index: 3;
    }

    .title {
      font-size: clamp(28px, 4vw, 44px);
      line-height: 1.1;
      margin: 0 0 10px;
      letter-spacing: -0.02em;
      text-align: center;
    }
    .subtitle {
      margin: 0 0 18px;
      text-align: center;
      font-size: 16px;
      opacity: 0.85;
      min-height: 22px;
    }

    .stage {
      position: relative;
      height: 240px;
      border-radius: 22px;
      background: rgba(255,255,255,0.55);
      border: 1px solid rgba(255,255,255,0.7);
      display: grid;
      place-items: center;
      overflow: hidden;
    }

    .buttons {
      position: absolute;
      inset: 0;
      display: grid;
      place-items: center;
    }

    button {
      appearance: none;
      border: 0;
      border-radius: 999px;
      padding: 14px 22px;
      font-size: 18px;
      font-weight: 700;
      cursor: pointer;
      transition: transform 0.12s ease, filter 0.12s ease;
      box-shadow: 0 14px 30px rgba(0,0,0,0.14);
      user-select: none;
      white-space: nowrap;
    }
    button:active { transform: scale(0.98); }
    .yes { background: var(--yes); color: white; }
    .no  { background: var(--no);  color: white; }

    .row {
      display: flex;
      gap: 16px;
      align-items: center;
      justify-content: center;
      position: relative;
    }

    .hint {
      margin-top: 16px;
      text-align: center;
      opacity: 0.75;
      font-size: 14px;
      min-height: 18px;
    }

    .success {
      display: none;
      text-align: center;
      padding: 14px 0 0;
    }
    .success h2 {
      margin: 10px 0 6px;
      font-size: 28px;
    }
    .success p {
      margin: 0;
      opacity: 0.9;
      font-size: 16px;
      line-height: 1.5;
    }
    .badge {
      display: inline-flex;
      gap: 8px;
      align-items: center;
      justify-content: center;
      margin-top: 14px;
      background: rgba(34,197,94,0.15);
      border: 1px solid rgba(34,197,94,0.35);
      padding: 10px 14px;
      border-radius: 999px;
      font-weight: 700;
    }

    .tiny {
      margin-top: 10px;
      font-size: 12px;
      opacity: 0.6;
      text-align: center;
    }

    .footer {
      margin-top: 18px;
      text-align: center;
      font-size: 12px;
      opacity: 0.6;
    }

    @media (max-width: 520px) {
      .sticker { width: 92px; padding: 6px; border-radius: 14px; }
      button { font-size: 16px; padding: 12px 18px; }
      .stage { height: 300px; }
    }
  </style>
</head>
<body>
  <div class="stickers" id="stickers"></div>

  <div class="hearts" id="hearts"></div>
  <div class="confetti" id="confetti"></div>
  <div class="sparks" id="sparks"></div>

  <main class="card" id="card">
    <h1 class="title">Will you be my valentine forever, <span aria-label="bubu">bubu</span>? üíò</h1>
    <p class="subtitle" id="subtitle">Pick wisely‚Ä¶ because ‚ÄúNo‚Äù is shy today üòà</p>

    <section class="stage" id="stage" aria-label="Valentine choice area">
      <div class="buttons">
        <div class="row" id="btnRow">
          <button class="yes" id="yesBtn">Yes üíö</button>
          <button class="no" id="noBtn">No üôÉ</button>
        </div>
      </div>

      <div class="success" id="success">
        <div style="font-size:52px;">ü•πüíò‚ú®</div>
        <h2>Yayyyyy! It‚Äôs a forever date üíç</h2>
        <p>
          Okay bubu, now you‚Äôre officially stuck with me üòå<br/>
          Come here ‚Äî hugs & kisses subscription activated ü´∂
        </p>
        <div class="badge">‚úÖ ‚ÄúYes‚Äù locked in forever</div>
      </div>
    </section>

    <div class="hint" id="hint">Try hovering ‚ÄúNo‚Äù if you dare üëÄ</div>
    <div class="tiny" id="tiny">No attempts blocked: 0 üòå</div>

    <div class="footer">Made with ‚ù§Ô∏è ‚Äî share this link once you host it.</div>
  </main>

  <script>
    /********************
     * OPTIONAL STICKERS
     * Put these in your repo: assets/1.webp ... assets/10.webp (or change paths here)
     ********************/
    const STICKER_URLS = [
      "assets/1.webp",
      "assets/2.webp",
      "assets/3.webp",
      "assets/4.webp",
      "assets/5.jpg",
      "assets/6.webp",
      "assets/7.webp",
      "assets/8.webp",
      "assets/9.webp",
      "assets/10.webp",
    ];

    const stickersWrap = document.getElementById("stickers");
    const stickerPos = [
      { top: "14px", left: "14px", rot: "-12deg" },
      { top: "14px", right: "14px", rot: "12deg" },
      { bottom: "14px", left: "14px", rot: "10deg" },
      { bottom: "14px", right: "14px", rot: "-12deg" },
      { top: "22px", left: "calc(50% - 60px)", rot: "6deg" },
      { bottom: "22px", left: "calc(50% - 60px)", rot: "-6deg" },
      { top: "110px", left: "18px", rot: "8deg" },
      { top: "110px", right: "18px", rot: "-8deg" },
      { bottom: "110px", left: "18px", rot: "-6deg" },
      { bottom: "110px", right: "18px", rot: "6deg" },
    ];

    STICKER_URLS.forEach((src, i) => {
      const frame = document.createElement("div");
      frame.className = "sticker";
      const p = stickerPos[i % stickerPos.length];
      frame.style.setProperty("--rot", p.rot);
      Object.keys(p).forEach(k => { if (k !== "rot") frame.style[k] = p[k]; });

      const img = document.createElement("img");
      img.src = src;
      img.alt = "cute sticker";
      img.loading = "lazy";
      img.onerror = () => frame.remove(); // if not found, skip silently

      frame.appendChild(img);
      stickersWrap.appendChild(frame);
    });

    /********************
     * HEARTS BACKGROUND
     ********************/
    const heartsWrap = document.getElementById("hearts");
    const heartEmojis = ["üíò","üíñ","üíó","üíì","üíû","üíï","‚ù§Ô∏è","ü©∑","‚ú®","üå∏"];
    let heartFastMode = false;
    let heartInterval = null;

    const makeHeart = () => {
      const el = document.createElement("div");
      el.className = "heart";
      el.textContent = heartEmojis[Math.floor(Math.random() * heartEmojis.length)];
      el.style.left = Math.random() * 100 + "vw";
      el.style.animationDuration = (heartFastMode ? (3.8 + Math.random() * 4.5) : (6 + Math.random() * 10)) + "s";
      el.style.fontSize = (16 + Math.random() * 22) + "px";
      el.style.opacity = (0.25 + Math.random() * 0.6);
      el.style.animationDelay = (-Math.random() * 10) + "s";
      heartsWrap.appendChild(el);
      setTimeout(() => el.remove(), 17000);
    };

    for (let i = 0; i < 24; i++) makeHeart();
    heartInterval = setInterval(makeHeart, 600);

    /********************
     * CONFETTI + FIREWORKS
     ********************/
    const confettiWrap = document.getElementById("confetti");
    const sparksWrap = document.getElementById("sparks");
    let celebrateOn = false;
    let confInt = null;
    let sparkInt = null;

    function spawnConfetti() {
      if (!celebrateOn) return;
      const c = document.createElement("div");
      c.className = "conf";
      c.style.left = (Math.random() * 100) + "vw";
      c.style.animationDuration = (2.6 + Math.random() * 2.6) + "s";
      const hues = [330, 345, 10, 45, 170, 200, 280];
      const h = hues[Math.floor(Math.random() * hues.length)];
      c.style.background = `hsl(${h} 90% 70%)`;
      confettiWrap.appendChild(c);
      setTimeout(() => c.remove(), 6000);
    }

    function sparkBurst() {
      if (!celebrateOn) return;
      const x = Math.random() * window.innerWidth;
      const y = Math.random() * window.innerHeight * 0.85;
      const count = 10 + Math.floor(Math.random() * 12);
      const hues = [330, 345, 10, 45, 170, 200, 280];

      for (let i = 0; i < count; i++) {
        const s = document.createElement("div");
        s.className = "spark";
        s.style.left = x + "px";
        s.style.top  = y + "px";
        const h = hues[Math.floor(Math.random() * hues.length)];
        s.style.background = `hsl(${h} 90% 70%)`;
        sparksWrap.appendChild(s);
        setTimeout(() => s.remove(), 950);
      }
    }

    function startCelebration() {
      celebrateOn = true;
      confettiWrap.style.opacity = "1";
      sparksWrap.style.opacity = "1";

      // more hearts
      heartFastMode = true;
      clearInterval(heartInterval);
      heartInterval = setInterval(makeHeart, 220);
      for (let i = 0; i < 25; i++) makeHeart();

      // confetti + fireworks
      for (let i = 0; i < 25; i++) setTimeout(spawnConfetti, i * 80);
      confInt = setInterval(spawnConfetti, 120);

      for (let i = 0; i < 8; i++) setTimeout(sparkBurst, i * 180);
      sparkInt = setInterval(sparkBurst, 520);
    }

    /********************
     * FIXED YES/NO LOGIC (based on your working version)
     ********************/
    const stage = document.getElementById("stage");
    const btnRow = document.getElementById("btnRow");
    const yesBtn = document.getElementById("yesBtn");
    const noBtn  = document.getElementById("noBtn");
    const success = document.getElementById("success");
    const hint = document.getElementById("hint");
    const tiny = document.getElementById("tiny");
    const subtitle = document.getElementById("subtitle");

    let blocks = 0;
    let sideRightNext = true;          // alternate left/right far
    let cooldownUntil = 0;
    let noMsgTimer = null;

    const originalNoText = "No üôÉ";
    const cuteMsgs = [
      "Hehe nope üòú",
      "Pick Yes na ü•∫",
      "Awww‚Ä¶ üíû",
      "Try again üòå",
      "Yes looks cute ü©∑",
      "Don‚Äôt be mean üôà",
      "Come on bubu ü•π"
    ];

    function clamp(n, min, max) { return Math.max(min, Math.min(max, n)); }

    function setNoTempText() {
      const msg = cuteMsgs[Math.floor(Math.random() * cuteMsgs.length)];
      noBtn.textContent = msg;
      if (noMsgTimer) clearTimeout(noMsgTimer);
      noMsgTimer = setTimeout(() => { noBtn.textContent = originalNoText; }, 1000);
    }

    function dodgeNoButton() {
      const now = Date.now();
      if (now < cooldownUntil) return;
      cooldownUntil = now + 160;

      blocks++;
      tiny.textContent = `No attempts blocked: ${blocks} üòå`;
      hint.textContent = "Nice try. üòè";
      setNoTempText();

      const rect = stage.getBoundingClientRect();
      const pad = 18;

      // Make NO absolute inside stage AFTER first dodge (so it can move freely)
      noBtn.style.position = "absolute";

      // lock width so cute text doesn't resize and cause weird jumps
      if (!noBtn.style.minWidth) {
        const w = noBtn.offsetWidth;
        noBtn.style.minWidth = w + "px";
        noBtn.style.textAlign = "center";
      }

      // YES stays in the row position (center). We'll protect that zone.
      const yesRect = yesBtn.getBoundingClientRect();
      const yes = {
        x: yesRect.left - rect.left,
        y: yesRect.top  - rect.top,
        w: yesRect.width,
        h: yesRect.height
      };

      const nW = noBtn.offsetWidth;
      const nH = noBtn.offsetHeight;

      const SAFE = 22;   // buffer so NO never overlaps YES
      const FAR  = 110;  // ensure it runs far left/right alternately

      // candidate x range based on side preference
      let minX, maxX;
      if (sideRightNext) {
        minX = yes.x + yes.w + FAR;
        maxX = rect.width - nW - pad;
        if (minX > maxX) { // fallback anywhere
          minX = pad;
          maxX = rect.width - nW - pad;
        }
      } else {
        minX = pad;
        maxX = yes.x - nW - FAR;
        if (minX > maxX) { // fallback anywhere
          minX = pad;
          maxX = rect.width - nW - pad;
        }
      }

      // Try multiple times to find a spot that doesn't overlap YES
      let best = null;
      for (let i = 0; i < 80; i++) {
        const x = minX + Math.random() * (maxX - minX);
        const y = pad + Math.random() * (rect.height - nH - pad * 2);

        const cand = { x, y, w: nW, h: nH };
        const overlap =
          !(cand.x + cand.w + SAFE <= yes.x ||
            yes.x + yes.w + SAFE <= cand.x ||
            cand.y + cand.h + SAFE <= yes.y ||
            yes.y + yes.h + SAFE <= cand.y);

        if (!overlap) {
          best = cand;
          break;
        }
      }

      if (!best) {
        // worst-case fallback (still clamped) ‚Äî keep it visible
        best = {
          x: sideRightNext ? (rect.width - nW - pad) : pad,
          y: pad + Math.random() * (rect.height - nH - pad * 2),
          w: nW,
          h: nH
        };
      }

      // Alternate next time
      sideRightNext = !sideRightNext;

      // Prevent hover-loop ‚Äúdisappear‚Äù issue: briefly disable pointer events while moving
      noBtn.style.pointerEvents = "none";
      requestAnimationFrame(() => {
        noBtn.style.left = clamp(best.x, pad, rect.width - nW - pad) + "px";
        noBtn.style.top  = clamp(best.y, pad, rect.height - nH - pad) + "px";
        setTimeout(() => { noBtn.style.pointerEvents = ""; }, 120);
      });
    }

    function showSuccess() {
      btnRow.style.display = "none";
      success.style.display = "block";
      hint.textContent = "Good choice üòåüíò";
      subtitle.textContent = "Okay bubu‚Ä¶ now it‚Äôs official üíç";
      for (let i = 0; i < 18; i++) makeHeart();
      startCelebration();
    }

    // YES click => success
    yesBtn.addEventListener("click", showSuccess);

    // NO hover/touch/click => run away (never overlaps YES, stays visible)
    noBtn.addEventListener("mouseenter", dodgeNoButton);
    noBtn.addEventListener("click", (e) => { e.preventDefault(); dodgeNoButton(); });
    noBtn.addEventListener("touchstart", (e) => { e.preventDefault(); dodgeNoButton(); }, { passive: false });
  </script>
</body>
</html>
